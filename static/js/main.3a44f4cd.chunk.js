(this.webpackJsonpproducts=this.webpackJsonpproducts||[]).push([[0],{81:function(t,e,n){},91:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(23),r=n.n(i),o=(n(81),n(20)),s=n(32),l=n(60),j=n.n(l),d=n(19),h={products:[],loading:!0,cart:[],page:1,searchText:"",changeMode:window.location.href.search("/cart")>-1},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_PRODUCTS":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,products:e.data});case"ADD_TO_CART":case"UPDATE_CART":return Object(d.a)(Object(d.a)({},t),{},{cart:e.item,products:e.product});case"CHANGE_MODE":return Object(d.a)(Object(d.a)({},t),{},{changeMode:e.mode});case"SET_PAGE":return Object(d.a)(Object(d.a)({},t),{},{page:e.page});case"SEARCH_PRODUCT":return Object(d.a)(Object(d.a)({},t),{},{searchText:e.searchText,page:e.page});default:return t}},b=n(61),p=Object(s.c)(u,Object(s.a)(j.a,b.a)),x=n(134),O=n(123),g=n(127),m=n(126),f=n(121),v=n(124),y=n(125),w=n(70),T=n(128),N=n(40),C=n.n(N),D=n(2);var k=Object(o.b)((function(t){return{state:t}}),null)((function(t){var e=0;return t.state.cart.length>0&&(t.state.cart.map((function(t){e+=Number(t.quantity*(Number(t.price)+.02*Number(t.price)))})),e=e.toFixed(2)),Object(D.jsx)(c.a.Fragment,{children:t.state.cart.length>0?Object(D.jsxs)(c.a.Fragment,{children:[Object(D.jsx)(f.a,{component:w.a,children:Object(D.jsxs)(O.a,{children:[Object(D.jsx)(v.a,{children:Object(D.jsxs)(y.a,{children:[Object(D.jsx)(m.a,{children:"Product"}),Object(D.jsx)(m.a,{align:"right",children:"Price"}),Object(D.jsx)(m.a,{align:"right",children:"Quantity"}),Object(D.jsx)(m.a,{align:"right",children:"Tax"}),Object(D.jsx)(m.a,{align:"right",children:"Total"})]})}),Object(D.jsx)(g.a,{children:t.state.cart.map((function(t,e){var n=(t.quantity*(Number(t.price)+.02*Number(t.price))).toFixed(2);return Object(D.jsxs)(y.a,{children:[Object(D.jsx)(m.a,{component:"th",scope:"row",children:t.name}),Object(D.jsxs)(m.a,{align:"right",children:["$",t.price]}),Object(D.jsx)(m.a,{align:"right",children:t.quantity}),Object(D.jsx)(m.a,{align:"right",children:"2%"}),Object(D.jsxs)(m.a,{align:"right",children:["$",n]})]},e)}))})]})}),Object(D.jsx)(f.a,{component:w.a,children:Object(D.jsx)(O.a,{children:Object(D.jsx)(g.a,{children:Object(D.jsxs)(y.a,{children:[Object(D.jsx)(m.a,{align:"right",children:"Total"}),Object(D.jsx)(m.a,{align:"right"}),Object(D.jsx)(m.a,{align:"right"}),Object(D.jsxs)(m.a,{align:"right",children:["$ ",e]})]})})})}),Object(D.jsx)(T.a,{onClick:function(){C()({title:"Do you want to checkout?",text:"This is the demo page for the checkout, it will reset all the state!",icon:"warning",buttons:["No","Yes"]}).then((function(t){t&&(window.location.href=window.location.origin)}))},style:{width:"100%"},variant:"contained",color:"secondary",children:"Checkout"})]}):null})})),_=n(129),I=n(130),R=n(132),q=n(131),A=n(133),P=n(66),E=n.n(P)()("NY87YKT8V0","c876b56496c530946cd1bcf8d6f31c10").initIndex("dev_PRODUCT");window.index=E;var S=function(t){return{type:"SET_PRODUCTS",data:t}},F=function(t){return{type:"CHANGE_MODE",mode:t}},G=function(t,e){return{type:"UPDATE_CART",item:t,product:e}},M=function(){return function(t,e){var n=e(),a=n.page,c=n.cart,i=n.searchText;E.search(i,{page:a}).then((function(e){var n=e.hits;for(var a in c)for(var i in n)if(c[a].objectID===n[i].objectID){n[i].in_cart=1;break}t(S(n))})).catch((function(){t(S([]))}))}},U=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,c){var i=c(),r=i.products,o=i.cart;for(var s in r)r[s].in_cart=0;var l=[];for(var j in o)if(o[j].objectID===t){l.quantity=e?o[j].quantity+1:o[j].quantity-1,o[j].quantity=l.quantity;break}if(!e&&n&&l.quantity>0)C()({title:"Do you want to remove all?",text:"There is more than one quantity added in the cart. To remove the single quantity, Go to the cart!",icon:"warning",buttons:["Close","Remove All"],dangerMode:!0}).then((function(e){if(e){for(var n in o=o.filter((function(e){return!(e.objectID===t)})))for(var c in r)if(o[n].objectID===r[c].objectID){r[c].in_cart=1;break}a(G(o,r))}}));else{for(var d in 0===l.quantity&&(o=o.filter((function(e){return!(e.objectID===t)}))),o)for(var h in r)if(o[d].objectID===r[h].objectID){r[h].in_cart=1;break}a(G(o,r))}}},H=Object(_.a)((function(t){return{root:{display:"flex",width:356,margin:5},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151,backgroundSize:"contain"},controls:{display:"flex",alignItems:"center",paddingLeft:t.spacing(2),paddingBottom:t.spacing(2)},paperroot:{flexGrow:1,overflow:"hidden",padding:t.spacing(0,3)},paper:{maxWidth:400,margin:"".concat(t.spacing(1),"px auto"),padding:t.spacing(2)}}}));var L=Object(o.b)((function(t){return{state:t}}),(function(t){return{dispatch:t}}))((function(t){var e=H(),n=function(e,n){t.dispatch(U(e,n))};return Object(D.jsx)(c.a.Fragment,{children:t.state.cart.length>0?t.state.cart.map((function(t,a){return Object(D.jsxs)(I.a,{style:{float:"left"},className:e.root,children:[Object(D.jsx)(q.a,{className:e.cover,image:t.image,title:t.name}),Object(D.jsxs)("div",{className:e.details,children:[Object(D.jsx)(R.a,{className:e.content,children:Object(D.jsx)(A.a,{style:{maxHeight:"40px"},variant:"body2",children:t.name})}),Object(D.jsxs)("div",{className:e.controls,children:[Object(D.jsxs)(A.a,{variant:"caption",display:"block",children:["Price : $ ",t.price]}),Object(D.jsxs)(A.a,{style:{marginLeft:"auto",paddingRight:"0px"},variant:"caption",display:"block",children:["Quantity :",Object(D.jsxs)("div",{className:"quantity_button",children:[Object(D.jsx)("input",{type:"button",onClick:function(){return n(t.objectID,!1)},value:"-",className:"button-minus"}),Object(D.jsx)("input",{type:"number",readOnly:!0,step:"1",max:"",min:"1",value:t.quantity,name:"quantity",className:"quantity-field"}),Object(D.jsx)("input",{type:"button",onClick:function(){return n(t.objectID,!0)},value:"+",className:"button-plus"})]})]})]})]})]},a)})):Object(D.jsx)("div",{className:e.paperroot,children:Object(D.jsx)(w.a,{className:e.paper,children:Object(D.jsx)(x.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(D.jsx)(x.a,{item:!0,xs:!0,children:Object(D.jsx)(A.a,{children:"There is no item added in the cart"})})})})})})})),z=Object(_.a)({fleft:{float:"left"},mtop:{marginTop:"10px"}});var $=function(){var t=z();return Object(D.jsx)(c.a.Fragment,{children:Object(D.jsx)(x.a,{container:!0,children:Object(D.jsxs)(x.a,{className:t.mtop,item:!0,xs:12,children:[Object(D.jsx)(x.a,{className:t.fleft,item:!0,md:7,children:Object(D.jsx)(L,{})}),Object(D.jsx)(x.a,{className:"bill_parent",item:!0,md:5,children:Object(D.jsx)(k,{})})]})})})},B=n(33),Y=n(8),J=n(135),Q=n(136),V=n(25),W=n(143),K=n(67),X=n.n(K),Z=n(68),tt=n.n(Z),et=Object(_.a)((function(t){return{root:{flexGrow:1,marginBottom:"70px"},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},search:Object(B.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Y.b)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(Y.b)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(B.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var nt=Object(o.b)((function(t){return{total_products:t.cart.length,visible:!t.changeMode}}),(function(t){return{dispatch:t}}))((function(t){var e=et();return Object(D.jsx)("div",{className:e.root,children:Object(D.jsx)(J.a,{position:"fixed",children:Object(D.jsxs)(Q.a,{children:[Object(D.jsx)(A.a,{style:{paddingRight:"6px"},variant:"h6",className:e.title,children:Object(D.jsx)(V.b,{onClick:function(){t.dispatch(F(!1))},to:"/",children:"Homepage"})}),t.visible?Object(D.jsxs)("div",{className:e.search,children:[Object(D.jsx)("div",{className:e.searchIcon,children:Object(D.jsx)(X.a,{})}),Object(D.jsx)(W.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){t.dispatch({type:"SEARCH_PRODUCT",searchText:e.target.value,page:1}),t.dispatch(M())}})]}):null,Object(D.jsxs)(T.a,{style:{marginRight:"-20px",marginTop:"10px"},color:"inherit",children:[" ",Object(D.jsx)(V.b,{onClick:function(){t.dispatch(F(!0))},to:"/cart",children:Object(D.jsx)(tt.a,{})})]}),"(",t.total_products,")"]})})})})),at=n(139),ct=n(140),it=n(137),rt=n(138),ot=n(141),st=n(142),lt=Object(_.a)({root:{maxWidth:268,float:"left",margin:"10px"},media:{height:140,backgroundSize:"contain"},container:{textAlign:"center"}});var jt=Object(o.b)((function(t){return{state:t}}),(function(t,e){return{dispatch:t,fetch_products:t(M())}}))((function(t){var e=lt(),n=function(){t.dispatch(F(!0))};return Object(D.jsx)(it.a,{className:e.container,children:t.state.loading?Object(D.jsxs)("center",{children:[Object(D.jsx)(rt.a,{})," "]}):t.state.products&&t.state.products.length>0?Object(D.jsxs)(c.a.Fragment,{children:[Object(D.jsx)("div",{children:Object(D.jsx)(ot.a,{count:10,color:"primary",page:t.state.page,onChange:function(e,n){var a,c;t.dispatch((a=n,c=t.state.searchText,{type:"SET_PAGE",page:a,searchText:c})),t.dispatch(M())}})}),t.state.products.map((function(a,i){return Object(D.jsxs)(I.a,{className:e.root,children:[Object(D.jsxs)(at.a,{children:[Object(D.jsx)(q.a,{className:e.media,image:a.image,title:a.name}),Object(D.jsx)(R.a,{children:Object(D.jsx)(A.a,{title:a.description,className:"truncate",variant:"button",display:"block",children:a.name})})]}),Object(D.jsxs)(ct.a,{children:[a.in_cart?Object(D.jsxs)(c.a.Fragment,{children:[Object(D.jsx)(T.a,{size:"small",color:"primary",children:Object(D.jsx)(V.b,{onClick:n,style:{color:"#3f51b5"},to:"/cart",children:"View Cart"})}),Object(D.jsx)(T.a,{onClick:function(){return e=a.objectID,void t.dispatch(U(e,!1,!0));var e},title:"Remove From Cart",size:"small",color:"primary",children:"Remove"})]}):Object(D.jsx)(T.a,{onClick:function(){return e=a.objectID,void t.dispatch(function(t){return function(e,n){var a=n(),c=a.products,i=a.cart,r=[];for(var o in c)if(c[o].objectID===t){r=c[o],c[o].in_cart=1;break}if(i.length>0)for(var s in i){if(i[s].objectID===t){r.quantity=i[s].quantity;break}r.quantity=1}else r.quantity=1;i[i.length]=r,e(function(t,e){return{type:"ADD_TO_CART",item:t,product:e}}(i,c))}}(e));var e},size:"small",color:"primary",children:"Add to Cart"}),Object(D.jsxs)(A.a,{style:{marginLeft:"auto"},variant:"body2",color:"textSecondary",component:"p",children:["Price : $ ",a.price]})]})]},i)}))]}):Object(D.jsx)(st.a,{severity:"error",children:"No Products found in the API. Please try something else!"})})})),dt=n(9);var ht=function(){return Object(D.jsxs)(c.a.Fragment,{children:[Object(D.jsx)(nt,{}),Object(D.jsxs)(dt.c,{children:[Object(D.jsx)(dt.a,{exact:!0,path:"/",component:jt}),Object(D.jsx)(dt.a,{exact:!0,path:"/cart",component:$})]})]})};var ut=function(){return Object(D.jsx)(o.a,{store:p,children:Object(D.jsx)(c.a.Fragment,{children:Object(D.jsx)(ht,{})})})};r.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(V.a,{children:Object(D.jsx)(ut,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.3a44f4cd.chunk.js.map